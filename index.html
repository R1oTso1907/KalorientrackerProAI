<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalorien- & Proteintracker Pro</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script defer src="app.js"></script>
</head>
<body>
    <header class="app-header">
        <h1><i class="fas fa-chart-pie"></i> Kalorien- & Proteintracker Pro</h1>
    </header>

    <div class="page-container">
        <aside class="sidebar">
            <section class="card" id="personenCard">
                <h2><i class="fas fa-users"></i> Profile & Ziele</h2>
                <div class="form-group">
                    <input type="text" id="personName" placeholder="Profilname" aria-label="Name der Person">
                </div>
                <div class="form-group">
                    <input type="number" id="zielKcal" placeholder="Tagesziel Kalorien" aria-label="Tagesziel Kalorien">
                </div>
                <div class="form-group">
                    <input type="number" id="zielProtein" placeholder="Tagesziel Protein (g)" aria-label="Tagesziel Protein in Gramm">
                </div>
                <button onclick="addPerson()" class="btn btn-primary btn-block"><i class="fas fa-user-plus"></i> Profil erstellen/aktualisieren</button>
                <div class="person-list-container">
                    <h3>Aktive Profile:</h3>
                    <ul id="activePersonList" class="clean-list">
                        </ul>
                </div>
            </section>

            <section class="card" id="tagesInfoCard">
                <h2><i class="fas fa-calendar-alt"></i> Tagesinfo & Notizen</h2>
                <div class="date-controls">
                    <button onclick="prevDay()" class="btn btn-tertiary btn-date-nav" aria-label="Vorheriger Tag"><i class="fas fa-chevron-left"></i></button>
                    <input type="date" id="currentDateInput" onchange="loadDay(this.value)" class="date-input" aria-label="Datum auswählen">
                    <button onclick="nextDay()" class="btn btn-tertiary btn-date-nav" aria-label="Nächster Tag"><i class="fas fa-chevron-right"></i></button>
                </div>
                <div class="form-group">
                    <label for="dailyNotes" class="input-label">Notizen zum Tag:</label>
                    <textarea id="dailyNotes" placeholder="Deine Notizen hier..." oninput="saveDailyNotes()" aria-label="Tägliche Notizen"></textarea>
                </div>
            </section>

            <section class="card" id="tagesUebersichtSidebarCard">
                <h2><i class="fas fa-clipboard-list"></i> Tagesübersicht</h2>
                <div id="mealLog" class="meal-log">
                    </div>
            </section>
        </aside>

        <main class="main-content">
            <section class="card" id="mahlzeitManuellCard">
                <h2><i class="fas fa-edit"></i> Mahlzeit manuell erfassen</h2>
                <div class="form-group">
                    <input type="text" id="mealName" placeholder="Lebensmittel/Gericht" aria-label="Lebensmittelname">
                </div>
                <div class="form-group">
                    <input type="number" id="mealKcal" placeholder="Kalorien (kcal)" aria-label="Kalorienmenge">
                </div>
                <div class="form-group">
                    <input type="number" id="mealProtein" placeholder="Protein (g)" aria-label="Proteinmenge in Gramm">
                </div>
                <button onclick="addMeal()" class="btn btn-secondary"><i class="fas fa-plus-circle"></i> Hinzufügen</button>
            </section>

            <section class="card" id="lebensmittelSucheCard">
                <h2><i class="fas fa-search"></i> Lebensmittel-Datenbank</h2>
                <div class="form-group search-group">
                    <input type="text" id="productSearch" placeholder="Produkt suchen (z.B. Apfel)" aria-label="Produktname zum Suchen">
                    <ul id="autocompleteList" class="autocomplete-list"></ul>
                </div>
                <button onclick="searchProduct()" class="btn btn-tertiary"><i class="fas fa-search"></i> Suchen</button>
                <div id="searchResult" class="search-results">
                    </div>
            </section>

            <section class="card chatbot-section" id="chatbotCard">
                <h2><i class="fas fa-robot"></i> Ernährungs-Assistent (AI)</h2>
                <div id="chatbot" class="chatbot-container">
                    <div id="chatOutput" class="chat-output">
                        <p class="info-message bot-message">Hallo! Ich bin dein Ernährungs-Assistent. Frag mich z.B. nach Kalorien oder Nährwerten.</p>
                    </div>
                    <div class="chat-input-group">
                        <input type="text" id="chatInput" placeholder="Deine Frage..." aria-label="Chatbot Eingabe">
                        <button onclick="sendMessage()" class="btn btn-chat"><i class="fas fa-paper-plane"></i> Senden</button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <footer class="app-footer">
        <p>&copy; 2024 Kalorien- & Proteintracker Pro. Alle Rechte vorbehalten.</p>
    </footer>
</body>
</html>